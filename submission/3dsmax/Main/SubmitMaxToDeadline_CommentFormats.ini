$default=("3ds Max " + SMTDFunctions.getMaxVersion() + " Scene Submission")
$scene=(getfilenamefile(maxfilename))
$date=((filterstring (localtime) " ")[1])
$deadlineusername=(SMTDFunctions.GetDeadlineUser())
$username=(sysInfo.username)
$camera=(local theCam = viewport.getCamera() if (isValidNode theCam) then theCam.name else "")
$outputfilename=(if (rendOutputFilename != "") then (filenameFromPath rendOutputFilename) else "")
$outputfile=(if (rendOutputFilename != "") then (getFilenameFile rendOutputFilename) else "")
$outputtype=(if (rendOutputFilename != "") then (getFilenameType rendOutputFilename) else "")
$maxversion=(((maxVersion())[1]/1000) as string)
$frames=(if rendTimeType == 1 then ((currentTime.frame as integer) as string) else (if rendTimeType == 2 then (substituteString ((animationRange.start as string) + "-" + (animationRange.end as string) + "x" + (rendNthFrame as string)) "f" "") else (if rendTimeType == 3 then (substituteString ((rendStart as string) + "-" + (rendEnd as string) + "x" + (rendNthFrame as string)) "f" "") else (rendPickupFrames))))
$passname=(if RPMdata != undefined then ( if (RPMdata.GetPassCount() > 0) then (RPMdata.GetPassName ((RPMdata.GetPassSelection())[1])) else "No Passes Found" ) else "RPManager Not Found" )
$vrayoutputfile=(if (isProperty renderers.current #output_on) then (if (renderers.current.output_splitgbuffer) and (renderers.current.output_splitfilename != "") then (getFilenameFile renderers.current.output_splitfilename) else if (renderers.current.output_saveRawFile) and (renderers.current.output_rawFileName != undefined) then (getFilenameFile renderers.current.output_rawFileName) else if (rendOutputFilename != "") then (getFilenameFile rendOutputFilename) else "[No save output filenameFile]") else (if (rendOutputFilename != "") then (getFilenameFile rendOutputFilename) else "[No save output filenameFile]"))   
$vrayoutputfilename=(if (isProperty renderers.current #output_on) then ( if (renderers.current.output_splitgbuffer) and (renderers.current.output_splitfilename != "") then ( filenameFromPath renderers.current.output_splitfilename) else if (renderers.current.output_saveRawFile) and (renderers.current.output_rawFileName != undefined) then ( filenameFromPath renderers.current.output_rawFileName ) else if (rendOutputFilename != "") then ( filenameFromPath rendOutputFilename ) else "[No save output]"         ) else ( if (rendOutputFilename != "") then ( filenameFromPath rendOutputFilename ) else "[No save output]"))
$vrayoutputtype=(if (isProperty renderers.current #output_on) then ( if (renderers.current.output_splitgbuffer) and (renderers.current.output_splitfilename != "") then ( getFilenameType renderers.current.output_splitfilename ) else if (renderers.current.output_saveRawFile) and (renderers.current.output_rawFileName != undefined) then ( getFilenameType renderers.current.output_rawFileName) else if (rendOutputFilename != "") then ( getFilenameType rendOutputFilename ) else "[No save output type]" ) else ( if (rendOutputFilename != "") then ( getFilenameType rendOutputFilename ) else "[No save output type]"))